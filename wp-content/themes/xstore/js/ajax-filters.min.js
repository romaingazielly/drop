var ajaxFilters;!function(b){"use strict";var y;ajaxFilters={init:function(){y={in_progress:!1,categories:!1},this.ajaxFilters()},ajaxFilters:function(){function t(e){var t="";if(e.hasClass("dropdown_product_brand")){if(!(t=e.find("option:selected").data("url")))return}else t=e.attr("href");var r,i,n,e=e.parents(".etheme_widget_brands_filter");e.hasClass("on_brand")?(r=e.attr("data-shop-url"),i=function(e){var t={},r=document.createElement("a");r.href=e;for(var i=r.search.substring(1).split("&"),n=0;n<i.length;n++){var a=i[n].split("=");t[a[0]]=decodeURIComponent(a[1])}return t}(t),n=0,r+="?",b.each(i,function(e,t){n++,r=Object.keys(i).length>n?r+e+"="+t+"&":r+e+"="+t}),a(r)):a(t)}function a(e){b(".et-loader.product-ajax").addClass("loading"),b("body").addClass("ajax-progress"),y.in_progress=!0,y.reinit_price=!1;var v=e;v=(v=(v=(v=v.replace("?et_ajax=true&","?")).replace("?et_ajax=true","?")).replace("et_ajax=true&","")).replace("et_ajax=true",""),e.includes("?")?e=e.replace("?","?et_ajax=true&"):e+="?et_ajax=true",b.ajax({url:e,method:"GET",timeout:1e5,dataType:"text",beforeSend:function(){b(".sidebar.et-mini-content.active").removeClass("active"),b(".et-toggle-mob-sidebars-wrapper").removeClass("et-content-shown")},success:function(r){var e,t=b(r).find(".products-loop").html(),i=b(r).find(".sidebar").html(),n=b(r).find(".shop-filters").html(),a=b(r).find(".after-shop-loop").html(),o=b(r).find(".empty-category-block").html(),s=b(r).find(".view-switcher").html(),c=b(r).find(".products-per-page").html(),l=b(r).find(".term-description.et_second-description").html(),d=b(r).find(".term-description:not(.et_second-description)").html(),p=b(".term-description:not(.et_second-description)"),m=b(".category-description"),u=m.length,h=b(r).find(".page-heading").html(),f=b(r).find(".page-heading").attr("style"),a=a&&(a=a.replace("?et_ajax=true","?")).replace("et_ajax=true",""),g=b(".content-page .products-loop"),_=b(".content-page .empty-category-block");b("body").hasClass("search-results")&&b(".products-title, .pages-result-slider, .posts-result-slider, .portfolios-result-slider").remove(),o?(g.html(""),_.length?(_.html(o),_.removeClass("hidden")):g.after('<div class="empty-category-block">'+o+"</div>")):(_.html("").addClass("hidden"),g.html(t)),s&&(e=g.attr("data-row-count"),t=b(r).find(".view-switcher").find(".switcher-active > a").attr("data-row-count"),b(".view-switcher").html(s),2<b(r).find(".view-switcher").find(".switch-grid").length&&g.removeClass("row-count-"+e).addClass("row-count-"+t).attr("data-row-count",t)),y.categories&&"inherit"!=etAjaxFiltersConfig.loop_prop_columns_category&&(e=g.attr("data-row-count"),g.removeClass("row-count-"+e).addClass("row-count-"+etAjaxFiltersConfig.loop_prop_columns_category).attr("data-row-count",etAjaxFiltersConfig.loop_prop_columns_category),y.categories=!1),c&&b(".products-per-page").html(c),h&&b(".page-heading").html(h),f?b(".page-heading").attr("style",f):b(".page-heading").attr("style",""),d?(p.length||u||(4==etAjaxFiltersConfig.product_page_banner_pos?b(".content-page").before('<div class="term-description"><div>'):3==etAjaxFiltersConfig.product_page_banner_pos?b(".content-page").prepend('<div class="term-description"><div>'):1==etAjaxFiltersConfig.product_page_banner_pos?b(".main-products-loop").prepend('<div class="term-description"><div>'):b(".main-products-loop").append('<div class="term-description"><div>')),u?(m.html(d),w(etAjaxFiltersConfig.builder,m)):(p.html(d),w(etAjaxFiltersConfig.builder,p)),etAjaxFiltersConfig.builder.includes("elementor")&&((d=b(r).find("#elementor-frontend-inline-css").html())?b("#elementor-frontend-inline-css").html(d):b.each(b(r).find('[data-elementor-type="wp-post"]'),function(){var e=b(this).attr("data-elementor-id"),t=b(r).find("#elementor-post-"+e+"-css");b("#elementor-post-"+e+"-css").length||b("body").append(t)}))):u?m.html():p.html(""),l?(b(".term-description.et_second-description").length||b(".after-shop-loop").after('<div class=" term-description et_second-description"><div>'),b(".term-description.et_second-description").html(l),w(etAjaxFiltersConfig.builder,b(".term-description.et_second-description"))):b(".term-description.et_second-description").html(""),b(".content-page .sidebar").html(i),b(".content-page .shop-filters").html(n),jQuery().selectWoo&&b.each(b("select.woocommerce-widget-layered-nav-dropdown"),function(){var e=b(this);jQuery(e).selectWoo({minimumResultsForSearch:5,width:"100%",language:{noResults:function(){return etAjaxFiltersConfig.notices.noMatchFound}}})}),"undefined"==typeof woocommerce_price_slider_params&&(n=b(r).find(".et_woocommerce_price_slider_params").html(),b("body").prepend(n)),etConfig.catsAccordion&&etTheme.categoriesAccordion(),a?b(".content-page .after-shop-loop").html(a):b(".content-page .after-shop-loop").html(""),etTheme.AjaxElement(),window.history.pushState("","",v),b(document).trigger("et_ajax_content_loaded")},error:function(e){etTheme.et_notice("ajax-filters","error")},complete:function(){var e;b(".et-loader.product-ajax").removeClass("loading"),etTheme.reinitSwatches(),etTheme.contentProdImages(),etTheme.countdown(),b("body").removeClass("swc-default-done"),etTheme.widgetsOpenCloseDefault(),ajaxFilters.reinit_price_filter(),etTheme.resizeVideo(),etTheme.swiperFunc(),etTheme.secondInitSwipers(),etTheme.customCss(),etTheme.customCssOne(),etTheme.sidebarCanvas(),etTheme.stickySidebar(),b(document).trigger("yith_wcwl_reload_fragments"),b("body").removeClass("ajax-progress"),y.in_progress=!1,etTheme.global_image_lazy(),etAjaxFiltersConfig.scroll_top_after_ajax&&(e=b(".content-page .main-products-loop > .products-loop").offset().top,b(".content-page .filter-wrap").length&&(e-=b(".content-page .filter-wrap").outerHeight()),e-=110,b("html, body").animate({scrollTop:e},1e3)),etConfig.woocommerceSettings.sidebar_widgets_dropdown_limited&&etTheme.widgetsShowMore()}})}function w(e,t){e.includes("elementor")&&b(t).find(".elementor-element").each(function(){elementorFrontend.elementsHandler.runReadyTrigger(b(this))}),e.includes("wpb")&&(b(window).resize(),b(t).find(".wpb_animate_when_almost_visible").removeClass("wpb_animate_when_almost_visible"))}function i(r,i,n){var a=setInterval(function(){var e,t=parseFloat(r.get(0).style.left);i?100<=t+.3?(r.css("left","100%"),clearInterval(a)):r.css("left",t+.3+"%"):t-.3<=0?(r.css("left",0),clearInterval(a)):r.css("left",t-.3+"%"),n&&(e=b(".etheme-price-filter .ui-slider-range"),t=b(e).get(0).style.width,100<=parseFloat(t)+.3?e.css("width","100%"):e.css("width",parseFloat(t)+.3+"%"))},1)}etAjaxFiltersConfig.woocommerceSettings.ajax_filters&&(b(document).on("click",".content-page .etheme-ajax-filter, .content-page .widget_product_categories ul li a, .content-page .etheme_swatches_filter ul li a, .content-page .woocommerce-widget-layered-nav ul li a, .content-page .widget_rating_filter ul li a, .content-page .widget_layered_nav_filters ul li a",function(e){var t;e.preventDefault(),y.in_progress||(t=b(this).attr("href"),e=window.location.href,b(this).parents(".sidebar-widget").hasClass("widget_product_categories")&&(y.categories=!0),b(this).hasClass("remove-brand")||b(this).parents(".widget_layered_nav_filters").hasClass("etheme-active-filters")||1<e.indexOf("filter_brand")&&(e=new URL(e).searchParams.get("filter_brand"),t=t.replace("?","?filter_brand="+e+"&")),a(t))}),b(document).on("change",".content-page .dropdown_product_brand",function(e){e.preventDefault(),t(b(this))}),b(document).on("click",".content-page .etheme_widget_brands_filter ul li a",function(e){e.preventDefault(),t(b(this))}),b(document).on("click",".content-page .et-reset-price",function(e){var t,r;e.preventDefault(),y.in_progress||(r=(t=b(this).parents(".etheme-price-filter form")).find("#min_price").data("min"),e=t.find("#max_price").data("max"),t.find("#min_price").val(r),t.find("#max_price").val(e),b(document.body).trigger("price_slider_slide",[r,e]),b.each(b(".etheme-price-filter .ui-slider-handle"),function(e,t){i(b(t),!(1!=e),!0)}),i(b(".etheme-price-filter .ui-slider-range"),!1,!1),a(t.attr("action")+"?"+t.find("input").not("#min_price, #max_price").serialize()))}),b(document).on("price_slider_change",function(){var e;b(".et-reset-price").removeClass("hidden"),y.in_progress||(!(e=b(this).find(".etheme-price-filter form").first())||e.length<1||a(e.attr("action")+"?"+e.serialize()))}),b(document).on("click",'.content-page .widget_price_filter .button:not(".et-reset-price")',function(e){e.preventDefault(),y.in_progress||a((e=b(this).closest("form")).attr("action")+"?"+e.serialize())}),b(document).on("change",".content-page select.woocommerce-widget-layered-nav-dropdown",function(e){var t,r,i,n;e.preventDefault(),y.in_progress||(t=b(this),r=window.location.href,n=t.attr("class"),e=i="",n=n.split(" "),b.each(n,function(e,t){t.includes("dropdown_layered_nav_")&&(i=t.replace("dropdown_layered_nav_",""))}),i="filter_"+i,(e=r.includes(i)?(n=t.parents("form").find("input[name="+i+"]").attr("value"),r.replace(i+"="+n,i+"="+t.val())):r.includes("?")?r.replace("?","?"+i+"="+t.val()+"&"):r+"?"+i+"="+t.val())&&a(e))}),b(document).on("submit",".content-page .woocommerce-ordering",function(e){var t,r,i,n;e.preventDefault(),y.in_progress||(t=b(this).serializeArray(),r=new URL(window.location.href),i=new URLSearchParams(r.search),e="",b.each(t,function(e,t){"orderby"==t.name&&(n=t.value)}),i.set("orderby",n),r.search=i.toString(),(e=r.toString())&&a(e))}),b(document).on("click",".content-page .view-switcher a",function(e){var t,r;e.preventDefault(),y.in_progress||(t=b(this).attr("href"),r=b(this).attr("data-type"),e=b(this).parents(".filter-wrap").parent().find(".products-loop"),t&&(a(t),"grid"==r?e.removeClass("products-list").addClass("products-grid"):e.removeClass("products-grid").addClass("products-list")))}),b(document).on("change",".content-page .et-per-page-select",function(e){var t,r,i,n;e.preventDefault(),y.in_progress||(t=(i=b(this).parents("form")).serializeArray(),r=window.location.href,i.attr("action")&&(r=i.attr("action")),r=new URL(r),e=new URLSearchParams(r.search),n=i="",b.each(t,function(e,t){"et_per_page"==t.name&&(n=t.value)}),e.set("et_per_page",n),r.search=e.toString(),(i=r.toString())&&a(i))})),etAjaxFiltersConfig.woocommerceSettings.ajax_pagination&&b(document).on("click",".content-page .woocommerce-pagination ul li a",function(e){e.preventDefault(),y.in_progress||a(b(this).attr("href"))})},reinit_price_filter:function(){if((void 0===y.reinit_price||!y.reinit_price)&&(y.reinit_price=!0,b(".price_slider").length)){if("undefined"==typeof woocommerce_price_slider_params)return!1;b("input#min_price, input#max_price").hide(),b(".price_slider, .price_label").show();var e=b(".price_slider_amount #min_price"),t=b(".price_slider_amount #max_price"),r=e.data("min"),i=t.data("max"),n=parseInt(e.val()?e.val():r,10),a=parseInt(t.val()?t.val():i,10);b(".price_slider").slider({range:!0,animate:!0,min:r,max:i,values:[n,a],create:function(){e.val(n),t.val(a),b(document.body).trigger("price_slider_create",[n,a])},slide:function(e,t){b("input#min_price").val(t.values[0]),b("input#max_price").val(t.values[1]),b(document.body).trigger("price_slider_slide",[t.values[0],t.values[1]])},change:function(e,t){b(document.body).trigger("price_slider_change",[t.values[0],t.values[1]])}})}}},b(document).ready(function(){ajaxFilters.init()})}(jQuery);