var etAjaxVariableProducts;!function(a){"use strict";etAjaxVariableProducts={init:function(){this.variableSingleProduct()},variableSingleProduct:function(){a(document).on("click",".variations_form .single_add_to_cart_button:not(.disabled, .wc-variation-selection-needed, .et-single-buy-now)",function(b){b.preventDefault();var c=a(this),d=c.closest("form.variations_form"),e=a("body"),f={action:"etheme_svp_cart"};c.removeClass("added"),c.addClass("loading"),d.serializeArray().map(function(a){if("add-to-cart"!==a.name)if(a.name.endsWith("[]")){var b=a.name.substring(0,a.name.length-2);b in f||(f[b]=[]),f[b].push(a.value)}else f[a.name]=a.value}),e.trigger("adding_to_cart",[c,f]),a.ajax({url:etConfig.ajaxurl,dataType:"json",method:"POST",data:f,success:function(b){if(b.error)return void(window.location.href=b.product_url);var d=b.fragments,f=b.cart_hash;return d&&a.each(d,function(b,c){a(b).replaceWith(c)}),e.trigger("added_to_cart",[d,f,c]),c.removeClass("loading"),c.addClass("added"),etConfig.woocommerceSettings.cart_redirect_after_add?void(window.location.href=etConfig.woocommerceSettings.cart_url):void 0}})})}},a(document).ready(function(){etAjaxVariableProducts.init()})}(jQuery);