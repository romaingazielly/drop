var portfolio;!function(f){"use strict";var c;portfolio={init:function(){c={is_masonry:f("body").hasClass("etheme_masonry_on")},this.portfolio()},portfolio:function(){f(".portfolio").each(function(){var s=f(this);function o(t){var o=t.attr("data-filter"),i=t.parents(".portfolio-filters").next(".portfolio-wrapper").find(".et-load-portfolio"),e=i.attr("data-limit"),a=i.attr("data-class"),r=t.attr("data-category-id"),n=i.attr("data-portfolio-category-page"),l=i.attr("data-portfolio-category-page-name"),i=i.attr("data-columns");t.parents(".portfolio-filters").find("li a").removeClass("active"),t.hasClass("active")||t.addClass("active"),e&&-1!=e||!c.is_masonry?f.ajax({url:etPortfolioConfig.ajaxurl,method:"POST",dataType:"json",data:{action:"et_portfolio_ajax",limit:e,category:r,is_category:n,category_name:l,class:a,url:window.location.href,columns:i},success:function(t){f(".portfolio-wrapper").replaceWith(t.html)},complete:function(){var t;c.is_masonry&&((t=f(document).find("."+a).find(".portfolio")).isotope({itemSelector:".portfolio-item",isOriginLeft:!etPortfolioConfig.layoutSettings.is_rtl,masonry:{columnWidth:".grid-sizer"}}),setTimeout(function(){t.addClass("with-transition"),t.find(".portfolio-item").addClass("with-transition"),t.isotope("layout")},300)),setTimeout(function(){etTheme.global_image_lazy(),etTheme.imagesLightbox()},200)},after:function(){},error:function(){etTheme.et_notice("portfolio","error")}}):s.isotope({filter:o})}c.is_masonry&&(s=f(this).isotope({itemSelector:".portfolio-item",isOriginLeft:!etPortfolioConfig.layoutSettings.is_rtl,masonry:{columnWidth:".grid-sizer"}})).imagesLoaded().progress(function(){s.isotope("layout")}),s.parents(".page-template-portfolio").find(".portfolio-filters a").click(function(t){t.preventDefault(),o(f(this))}),f(".page-template-portfolio").length<1&&s.parent().prev(".portfolio-filters").find("a").click(function(t){t.preventDefault(),o(f(this))}),f(document).on("click",".portfolio-pagination a",function(t){t.preventDefault();var o=f(this).parents(".portfolio-wrapper").find(".et-load-portfolio"),i=o.attr("data-class"),e=f(this).attr("href"),a=new URL(e),r=a.searchParams.get("et-paged"),n=o.attr("data-portfolio-category-page-name"),l=a.searchParams.get("et-cat"),t=o.attr("data-portfolio-category-page"),e=o.attr("data-limit"),a=o.attr("data-columns"),o=o.find("span").text();JSON.parse(o);f.ajax({url:etPortfolioConfig.ajaxurl,method:"POST",dataType:"json",data:{action:"et_portfolio_ajax_pagination",url:window.location.href,class:i,limit:e,is_category:t,category:l,cat:n,paged:r,columns:a},before:function(){},success:function(t){f(".portfolio-wrapper").replaceWith(t)},complete:function(){var t;setTimeout(function(){etTheme.global_image_lazy(),etTheme.imagesLightbox()},200),c.is_masonry&&(t=f(document).find("."+i).find(".portfolio"),setTimeout(function(){t.isotope({itemSelector:".portfolio-item",isOriginLeft:!etPortfolioConfig.layoutSettings.is_rtl,masonry:{columnWidth:".grid-sizer"}}),t.addClass("with-transition"),t.find(".portfolio-item").addClass("with-transition")},200));var o=f(document).find("."+i).offset().top;f(document).find("."+i).prev(".portfolio-filters").length&&(o-=f(document).find("."+i).prev(".portfolio-filters").outerHeight(!0)),f(document).find(".fixed-header").length&&(o-=f(document).find(".fixed-header").outerHeight(!0)),f("html, body").animate({scrollTop:o},1e3)},after:function(){},error:function(){etTheme.et_notice("portfolio-pagination","error")}})})}),setTimeout(function(){f(".portfolio").addClass("with-transition"),f(".portfolio-item").addClass("with-transition"),f(window).resize()},500)}},f(document).ready(function(){portfolio.init()})}(jQuery);